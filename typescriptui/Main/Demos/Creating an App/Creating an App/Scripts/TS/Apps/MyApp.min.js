var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},LoremIpsum="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur pharetra felis nec erat fermentum malesuada gravida odio pulvinar. Fusce elit massa, hendrerit sit amet vehicula vitae, porta in lorem. Suspendisse volutpat eros sed nibh elementum tincidunt. Nam nulla nibh, dapibus.",TSUI;(function(n){(function(t){(function(t){var i=!1,e=function(){function t(){this.MainContainer=null,this.StartArgs=null}return t.prototype.Run=function(t,r){typeof t=="undefined"&&(t=[]),typeof r=="undefined"&&(r=$("body")),this.StartArgs=t,this.MainContainer=r,i=window.location.hash==="#mobile"&&window.location.search!=="?mode=desktop",n.Animation.AppWindowAnimator.UseCanvasRenderIfSensible=!1,this.InitSplashScreen();var u=this,f=Date.now();this.ShowSplashScreen(function(){u.Init(function(){u.TheStartupWindow.Enabled(!1),u.TheStartupWindow.Width(new n.UI.CSSNumber(100,"%")),u.TheStartupWindow.Height(new n.UI.CSSNumber(100,"%")),setTimeout(function(){u.TheSplashScreen.Hide(function(){u.TheStartupWindow.Show(function(){u.TheStartupWindow.Enabled(!0),u.TheSplashScreen.DestroyDOM()},new n.Animation.FadeAnimator)})},4e3-(f-Date.now()))})||alert("Failed to initialise properly!")})},t.prototype.InitSplashScreen=function(){var t,u,f;i?(this.TheSplashScreen=new o,this.TheSplashScreen.OptimiseConstructForGraphics=!1,this.TheSplashScreen.ConstructDOM(this.MainContainer),t=Math.min($(window).width(),580),this.TheSplashScreen.Width(new n.UI.CSSNumber(t)),this.TheSplashScreen.Left(new n.UI.CSSNumber(($(window).width()-t)/2)),this.TheSplashScreen.Height(new n.UI.CSSNumber($(window).height()))):(this.TheSplashScreen=new r,this.TheSplashScreen.OptimiseConstructForGraphics=!1,this.TheSplashScreen.ConstructDOM(this.MainContainer),u=($(window).height()-this.TheSplashScreen.Height().Value)/2,this.TheSplashScreen.Top(new n.UI.CSSNumber(u/$(window).height()*100,"%")),f=($(window).width()-this.TheSplashScreen.Width().Value)/2,this.TheSplashScreen.Left(new n.UI.CSSNumber(f/$(window).width()*100,"%")))},t.prototype.ShowSplashScreen=function(t){this.TheSplashScreen.Show(function(){t&&t()},new n.Animation.Animator)},t.prototype.Init=function(n){return typeof n=="undefined"&&(n=null),this.InitStartupWindow(n),!0},t.prototype.InitStartupWindow=function(n){typeof n=="undefined"&&(n=null),this.TheStartupWindow=i?new s:new u,this.TheStartupWindow.ConstructDOM(this.MainContainer,n)},t}();t.MyApp=e;var r=function(t){function i(){var i,r;t.call(this),this.AddClass("SplashScreen"),this.MainTitleBar.Visible(!1),this.CloseButton.Visible(!1),this.ResizeEnabled(!1),this.DragEnabled(!1),this.Width(new n.UI.CSSNumber(500)),this.Height(new n.UI.CSSNumber(250)),i=new n.UI.Label,i.AddClass("NameLabel"),i.Text("My App"),this.Children.Add(i),r=new n.UI.ProgressSpinner,r.AnimationDuration(2e3),this.Children.Add(r)}return __extends(i,t),i}(n.UI.Window),o=function(t){function i(){t.call(this),this.AddClass("Mobile"),this.Top(new n.UI.CSSNumber(0)),this.Left(new n.UI.CSSNumber(0))}return __extends(i,t),i}(r),u=function(t){function r(){t.call(this),this.OptimiseConstructForGraphics=i,this.AddClass("StartupWindow"),this.Title("TypeScript UI"),this.CloseButton.Visible(!1),this.ResizeEnabled(!1),this.DragEnabled(!1),this.LoginTile||(this.LoginTile=new n.UI.Tile(n.UI.TileSizes.Medium,n.UI.TileTypes.Iconic)),this.TilesStackPanel=new n.UI.StackPanel,this.TilesStackPanel_Row1=new n.UI.StackPanelRow,this.TilesStackPanel_Row1.RelativeLayoutOn(),this.TSP_HorSP1=new n.UI.StackPanel,this.TSP_HorSP1.Orientation(n.UI.StackPanelOrientations.Horizontal),this.TSP_HorSP1_Col1=new n.UI.StackPanelRow,this.TSP_HorSP1_Col1.RelativeLayoutOn(),this.LoginTile.AddClass("LoginTile"),this.LoginTile.NameLabel.Text("Login"),this.LoginTile.IconBox.Source(n.UI.TileIcons.About),this.LoginTile.ShowCounter(!1),this.LoginTile.OnClick.Attach(new n.Events.ClickEventHandler(this.LoginTile_OnClick,this)),this.LoginTile.RelativeLayoutOn(),this.ContentPanel.Children.Add(this.TilesStackPanel),this.TilesStackPanel.Rows.Add(this.TilesStackPanel_Row1),this.TSP_HorSP1.Rows.Add(this.TSP_HorSP1_Col1),this.TilesStackPanel_Row1.Children.Add(this.TSP_HorSP1),this.TSP_HorSP1_Col1.Children.Add(this.LoginTile);var r=this;setTimeout(function(){r.InitDesktopLoginWindow(),r.InitMobileLoginWindow()},150),this.OnResize.Attach(new n.Events.ResizeEventHandler(this._This_OnResize,this))}return __extends(r,t),r.prototype._This_OnResize=function(){this.PositionDesktopLoginWindow()},r.prototype.InitDesktopLoginWindow=function(){this.TheDesktopLoginWindow||(this.TheDesktopLoginWindow=new f,this.TheDesktopLoginWindow.OnClose.Attach(new n.Events.CloseEventHandler(function(){this.Enabled(!0)},this)),this.TheDesktopLoginWindow.ConstructDOM(this._rootElement.parent()),this.TheDesktopLoginWindow.DestroyDOMOnClose=!1)},r.prototype.InitMobileLoginWindow=function(){this.TheMobileLoginWindow||(this.TheMobileLoginWindow=new h,this.TheMobileLoginWindow.OnClose.Attach(new n.Events.CloseEventHandler(function(){this.Enabled(!0)},this)),this.TheMobileLoginWindow.ConstructDOM(this._rootElement.parent()),this.TheMobileLoginWindow.DestroyDOMOnClose=!1)},r.prototype.PositionDesktopLoginWindow=function(t){var i,r;if((typeof t=="undefined"&&(t=!1),this.TheDesktopLoginWindow)&&(this.TheDesktopLoginWindow.Visible()||t)){i=.5,r=.5,this.TheDesktopLoginWindow.Width(new n.UI.CSSNumber(i*100,"%")),this.TheDesktopLoginWindow.Height(new n.UI.CSSNumber(r*100,"%"));var u=400,f=400,e=230,o=230;this.TheDesktopLoginWindow.MinWidth(new n.UI.CSSNumber(u)),this.TheDesktopLoginWindow.MinHeight(new n.UI.CSSNumber(e)),this.TheDesktopLoginWindow.MaxWidth(new n.UI.CSSNumber(f)),this.TheDesktopLoginWindow.MaxHeight(new n.UI.CSSNumber(o));var s=this._rootElement.parent().width(),c=Math.max(u,Math.min(f,s*i)),l=c/s*100,a=(100-l)/2,h=this._rootElement.parent().height(),v=Math.max(e,Math.min(o,h*r)),y=v/h*100,p=(100-y)/2;this.TheDesktopLoginWindow.Top(new n.UI.CSSNumber(p,"%")),this.TheDesktopLoginWindow.Left(new n.UI.CSSNumber(a,"%"))}},r.prototype.PositionMobileLoginWindow=function(t){(typeof t=="undefined"&&(t=!1),this.TheMobileLoginWindow)&&(this.TheMobileLoginWindow.Visible()||t)&&(this.TheMobileLoginWindow.Width(new n.UI.CSSNumber(100,"%")),this.TheMobileLoginWindow.Height(new n.UI.CSSNumber(100,"%")),this.TheMobileLoginWindow.MinWidth(new n.UI.CSSNumber(235)),this.TheMobileLoginWindow.MinHeight(new n.UI.CSSNumber(320)),this.TheMobileLoginWindow.MaxWidth(new n.UI.CSSNumber(100,"%")),this.TheMobileLoginWindow.MaxHeight(new n.UI.CSSNumber(100,"%")),this.TheMobileLoginWindow.Top(new n.UI.CSSNumber(0,"%")),this.TheMobileLoginWindow.Left(new n.UI.CSSNumber(0,"%")))},r.prototype.LoginTile_OnClick=function(){var n=this;i?(this.PositionMobileLoginWindow(!0),this.TheMobileLoginWindow.Show(function(){n.Enabled(!1)})):(this.PositionDesktopLoginWindow(!0),this.TheDesktopLoginWindow.Show(function(){n.Enabled(!1)}))},r}(n.UI.Window),s=function(t){function i(){t.call(this),this.AddClass("Mobile"),this.LoginTile.Size(n.UI.TileSizes.Small)}return __extends(i,t),i}(u),f=function(t){function r(){t.call(this),this.OptimiseConstructForGraphics=i,this.AddClass("LoginWindow"),this.Title("Login"),this.ResizeEnabled(!1),this.CentralisingPanel=new n.UI.Panel,this.CentralisingPanel.AddClass("Centralise"),this.CentralisingPanel.RelativeLayoutOn(),this.ContentPanel.Children.Add(this.CentralisingPanel),this.ControlsStackPanel=new n.UI.StackPanel,this.ControlsStackPanel.RelativeLayoutOn(),this.CentralisingPanel.Children.Add(this.ControlsStackPanel),this.UsernameRow=new n.UI.StackPanelRow,this.ControlsStackPanel.Rows.Add(this.UsernameRow),this.PasswordRow=new n.UI.StackPanelRow,this.ControlsStackPanel.Rows.Add(this.PasswordRow),this.LoginRow=new n.UI.StackPanelRow,this.ControlsStackPanel.Rows.Add(this.LoginRow),this.UsernameLabel=new n.UI.Label("Username : "),this.UsernameLabel.RelativeLayoutOn(),this.UsernameRow.Children.Add(this.UsernameLabel),this.UsernameBox=new n.UI.TextBox,this.UsernameBox.RelativeLayoutOn(),this.UsernameRow.Children.Add(this.UsernameBox),this.PasswordLabel=new n.UI.Label("Password : "),this.PasswordLabel.RelativeLayoutOn(),this.PasswordRow.Children.Add(this.PasswordLabel),this.PasswordBox=new n.UI.TextBox,this.PasswordBox.Masked(!0),this.PasswordBox.RelativeLayoutOn(),this.PasswordRow.Children.Add(this.PasswordBox),this.LoginButton=new n.UI.Button,this.LoginButton.Text("Login"),this.LoginButton.Width(new n.UI.CSSNumber(197)),this.LoginButton.RelativeLayoutOn(),this.LoginRow.Children.Add(this.LoginButton)}return __extends(r,t),r}(n.UI.Window),h=function(n){function t(){n.call(this),this.OptimiseConstructForGraphics=i,this.AddClass("Mobile"),this.Title("Mobile Login")}return __extends(t,n),t}(f)})(t.My||(t.My={}));var i=t.My})(n.Apps||(n.Apps={}));var t=n.Apps})(TSUI||(TSUI={}))